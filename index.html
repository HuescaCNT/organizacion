<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Distribuci√≥n Militancia CNT - Modificado (pan/zoom D3)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Left panel -->
  <div id="leftPanel" class="panel left">
    <h2>Crear tarea (subnodo)</h2>
    <div class="form">
      <input type="text" id="taskName" placeholder="Nombre de la tarea">
      <select id="taskOwner"></select>
      <input type="number" id="taskHours" placeholder="Horas">
      <input type="text" id="taskDescription" placeholder="Descripci√≥n de la tarea">
      <select id="superSelect"></select>
      <button onclick="createNode()">Crear tarea</button>
    </div>

    <h2>Crear supernodo</h2>
    <div class="form">
      <input type="text" id="superName" placeholder="Nombre del supernodo">
      <select id="superOwner"></select>
      <select id="superSelect2"></select>
      <button onclick="createSupernode()">Crear supernodo</button>
    </div>

    <h2>Guardar / Cargar grafo</h2>
    <div class="form">
      <button onclick="exportGraph()">Guardar grafo</button>
      <input type="file" id="importFile" accept=".json" onchange="importGraph(event)">
    </div>
  </div>

  <!-- Main area -->
  <div id="mainArea">
    <div id="canvas" tabindex="0"></div>

    <!-- Controls: pantalla completa -->
    <div id="controls">
      <button id="togglePanels">üñ•Ô∏è Pantalla completa</button>
    </div>
  </div>

  <!-- Right panel -->
  <div id="rightPanel" class="panel right">
    <h2>Personas responsables</h2>
    <div class="form">
      <input type="text" id="newPersonName" placeholder="Nombre de la persona">
      <button onclick="addPerson()">A√±adir persona</button>
      <ul id="personList"></ul>
    </div>

    <h2>Resumen de carga</h2>
    <ul id="personSummary"></ul>
  </div>

  <!-- Popup (example) -->
  <div id="popup" class="hidden">
    <div class="form">
      <label>Nombre:</label>
      <input type="text" id="editName">
      <label id="editOwnerLabel">Responsable:</label>
      <select id="editOwner"></select>
      <label id="editHoursLabel">Horas:</label>
      <input type="number" id="editHours">
      <label id="editSuperLabel">Supernodo:</label>
      <select id="editSuperSelect"></select>
      <label>Descripci√≥n:</label>
      <input type="text" id="editDescription">
      <button onclick="applyEdits()">Aplicar cambios</button>
      <button onclick="deleteNode()">Eliminar nodo</button>
      <button onclick="closePopup()">Cerrar</button>
    </div>
  </div>

  <!-- Your existing scripts (keep these in your project) -->
  <script src="script-edit.js"></script>
  <script src="script-collapse.js"></script>

  <!-- d3 is needed for the D3 zoom integration -->
  <script src="https://d3js.org/d3.v7.min.js"></script>

  <!-- script-core (modified for D3 zoom/pan) -->
  <script src="script-core.js"></script>
</body>
</html>
